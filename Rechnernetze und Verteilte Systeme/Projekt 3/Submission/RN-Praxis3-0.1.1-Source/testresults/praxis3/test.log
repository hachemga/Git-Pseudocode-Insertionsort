.
----------------------------------------------------------------------
Ran 1 test in 14.659s

OK
F.F..F...
======================================================================
FAIL: test_FT_minimal (rnvs_tb.blocks.block6.JoinAndFTTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/mock.py", line 153, in run
    response = self.packet.__class__.parse(reply)
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/packet.py", line 175, in parse
    raise ValueError('Not enough data to parse Control packet!')
ValueError: Not enough data to parse Control packet!

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/blocks/block6.py", line 368, in test_FT_minimal
    c2.await_packet(2.0)
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/mock.py", line 105, in await_packet
    raise AssertionError('Did not receive expected packet due to previous errors!') from value
AssertionError: Did not receive expected packet due to previous errors!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/blocks/block6.py", line 371, in test_FT_minimal
    self.fail(f'Did not receive ACK packet. Trace: {trace}')
AssertionError: Did not receive ACK packet. Trace: Stdout0: bytearray(b'') // Stderr0: bytearray(b'Starting server. Press any key to exit.\nDecoded control packet header: \n\tJOIN: 1\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 1\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 1\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded packet header: \n\tACK: 0\n\tGET: 0\n\tSET: 1\n\tDEL: 0\n\tKey Length: 26 Bytes\n\tValue Length: 13 Bytes\nHash id: 22376\nWe are responsible.\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 1\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\n') Stdout1: bytearray(b'') // Stderr1: bytearray(b'Attempting connection to 192.168.144.2\nConnected to 192.168.144.2.\nStarting server. Press any key to exit.\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nLol! This should not happen!\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\n') Stdout2: bytearray(b'') // Stderr2: bytearray(b'Attempting connection to 192.168.144.2\nConnected to 192.168.144.2.\nStarting server. Press any key to exit.\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nNothing is happening...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nNothing is happening...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\n') Stdout3: bytearray(b'') // Stderr3: bytearray(b'Attempting connection to 192.168.144.2\nConnected to 192.168.144.2.\nStarting server. Press any key to exit.\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 1\n\tREPLY: 0\nHandling control packet...\nHandling control packet...\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 0\n\tSTABILIZE: 1\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\n')

======================================================================
FAIL: test_full_join_student (rnvs_tb.blocks.block6.JoinAndFTTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/blocks/block6.py", line 218, in test_full_join_student
    self.assertEqual(forwarded_l.method, 'LOOKUP',
AssertionError: 'STABILIZE' != 'LOOKUP'
- STABILIZE
+ LOOKUP
 : Expected LOOKUP but got STABILIZE instead. Is the peer spamming STABILIZE? 

======================================================================
FAIL: test_join_mock_peer (rnvs_tb.blocks.block6.JoinAndFTTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/rnvs_tb/blocks/block6.py", line 294, in test_join_mock_peer
    self.fail(
AssertionError: Peer did not reply to JOIN within timeout! Expected NOTIFY. Stdout1: bytearray(b''), Stderr1:bytearray(b'Starting server. Press any key to exit.\nDecoded control packet header: \n\tJOIN: 1\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 1\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nconnect: Connection refused\n'), Stdout2: bytearray(b''), Stderr2:bytearray(b'Attempting connection to 192.168.144.2\nConnected to 192.168.144.2.\nStarting server. Press any key to exit.\nDecoded control packet header: \n\tJOIN: 0\n\tNOTIFY: 1\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\nDecoded control packet header: \n\tJOIN: 1\n\tNOTIFY: 0\n\tSTABILIZE: 0\n\tLOOKUP: 0\n\tREPLY: 0\nHandling control packet...\n')

----------------------------------------------------------------------
Ran 9 tests in 128.575s

FAILED (failures=3)
